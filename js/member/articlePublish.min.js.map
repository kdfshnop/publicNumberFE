{"version":3,"sources":["member/articlePublish.min.js"],"names":["articlePublishController","createArticle","self","link","agentId","$","cookie","openId","on","val","show","hide","click","origin","trim","tips","indexOf","attr","request","apiUrl","member","publishArticleCount","successCallback","data","publishArticleSuccess","location","href","id","errorCallback","message","exceptionCallback","Controller","document","ready"],"mappings":";;;;;;;;;;AAAA;;;;;IAKOA,wB;;;AACF,wCAAa;AAAA;;AAAA;;AAET,cAAKC,aAAL;AAFS;AAGZ;AACF;;;;;;;wCAGe;AACX,gBAAIC,OAAK,IAAT;AACA,gBAAIC,OAAK,kBAAT;AACA,gBAAIC,UAAQC,EAAEC,MAAF,CAAS,SAAT,CAAZ;AACA,gBAAIC,SAAOF,EAAEC,MAAF,CAAS,QAAT,CAAX;AACAD,cAAE,qBAAF,EAAyBG,EAAzB,CAA4B,OAA5B,EAAoC,YAAU;AAC1C,oBAAGH,EAAE,qBAAF,EAAyBI,GAAzB,EAAH,EAAkC;AAC9BJ,sBAAE,sBAAF,EAA0BK,IAA1B;AACH,iBAFD,MAEK;AACDL,sBAAE,sBAAF,EAA0BM,IAA1B;AACH;AACJ,aAND;AAOAN,cAAE,sBAAF,EAA0BO,KAA1B,CAAgC,YAAU;AACtCP,kBAAE,qBAAF,EAAyBI,GAAzB,CAA6B,EAA7B;AACAJ,kBAAE,sBAAF,EAA0BM,IAA1B;AACH,aAHD;AAIAN,cAAE,WAAF,EAAeO,KAAf,CAAqB,YAAU;AAC3B,oBAAIC,SAAOR,EAAE,qBAAF,EAAyBI,GAAzB,EAAX;AACAI,yBAAOR,EAAES,IAAF,CAAOD,MAAP,CAAP;AACA,oBAAG,CAACA,MAAJ,EAAW;AACPR,sBAAEU,IAAF,CAAO,QAAP,EAAgB,CAAhB;AACA;AACH,iBAHD,MAGM,IAAGF,OAAOG,OAAP,CAAeb,IAAf,KAAsB,CAAC,CAA1B,EAA4B;AAC9BE,sBAAEU,IAAF,CAAO,SAAP,EAAiB,CAAjB;AACA;AACH,iBAHK,MAGD;AACD;AACAV,sBAAE,WAAF,EAAeY,IAAf,CAAoB,UAApB,EAA+B,IAA/B;AACAf,yBAAKgB,OAAL,CAAahB,KAAKiB,MAAL,CAAYC,MAAZ,CAAmBC,mBAAhC,EAAoD,EAACR,cAAD,EAAQN,cAAR,EAApD,EAAoE;AAChEe,yCAAgB,yBAASC,IAAT,EAAc;AAC1B;AACArB,iCAAKgB,OAAL,CAAahB,KAAKiB,MAAL,CAAYC,MAAZ,CAAmBI,qBAAhC,EAAsD,EAACX,cAAD,EAAQN,cAAR,EAAtD,EAAsE;AAClEe,iDAAgB,yBAASC,IAAT,EAAc;AAC1B;AACAE,6CAASC,IAAT,GAAc,gCAA8BH,KAAKA,IAAL,CAAUI,EAAtD;AACH;AAJiE,6BAAtE;AAMH,yBAT+D;AAUhEC,uCAAc,uBAASL,IAAT,EAAc;AACxBlB,8BAAE,WAAF,EAAeY,IAAf,CAAoB,UAApB,EAA+B,KAA/B;AACAZ,8BAAEU,IAAF,CAAOQ,KAAKM,OAAZ,EAAoB,CAApB;AACH,yBAb+D;AAchEC,2CAAkB,2BAASP,IAAT,EAAc;AAC5BlB,8BAAE,WAAF,EAAeY,IAAf,CAAoB,UAApB,EAA+B,KAA/B;AACH;AAhB+D,qBAApE;AAkBH;AACJ,aA/BD;AAgCH;;;;EAxDmCc,U;AA0DxC;;;;;AAGA1B,EAAE2B,QAAF,EAAYC,KAAZ,CAAkB,YAAU;AACxB,QAAIjC,wBAAJ;AACH,CAFD","file":"articlePublish.min.js","sourcesContent":["/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n 1. 项目名称：有房有客微信CDN框架\n 2. 页面名称：articlePublish.js (发布文章页)\n 3. 作者：douyadong@lifang.com\n -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n class articlePublishController extends Controller {\n     constructor(){\n         super();\n         this.createArticle();\n     }\n    /*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n    生成文章\n    -----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n    createArticle(){\n        let self=this;\n        let link=\"mp.weixin.qq.com\";\n        let agentId=$.cookie('agentId');\n        let openId=$.cookie('openId');\n        $('.article-link>input').on('input',function(){\n            if($('.article-link>input').val()){\n                $('.article-link>.clear').show();\n            }else{\n                $('.article-link>.clear').hide();\n            }\n        });\n        $('.article-link>.clear').click(function(){\n            $('.article-link>input').val('');\n            $('.article-link>.clear').hide();\n        });\n        $('.key>.btn').click(function(){\n            let origin=$('.article-link>input').val();\n            origin=$.trim(origin);\n            if(!origin){\n                $.tips('地址不能为空',2);\n                return;\n            }else if(origin.indexOf(link)<=-1){\n                $.tips('地址格式不正确',2);\n                return;\n            }else{\n                // 发送请求;\n                $('.key>.btn').attr('disabled',true);\n                self.request(self.apiUrl.member.publishArticleCount,{origin,openId},{\n                    successCallback:function(data){\n                        // $('.key>.btn').attr('disabled',false);\n                        self.request(self.apiUrl.member.publishArticleSuccess,{origin,openId},{\n                            successCallback:function(data){\n                                // $.cookie('id',data.data.id);//文章id;\n                                location.href=\"/member/article/reprint?id=\"+data.data.id;\n                            }\n                        }) \n                    },\n                    errorCallback:function(data){\n                        $('.key>.btn').attr('disabled',false);\n                        $.tips(data.message,2);\n                    },\n                    exceptionCallback:function(data){\n                        $('.key>.btn').attr('disabled',false);\n                    }\n                });\n            }\n        });\n    }\n }\n/*-----------------------------------------------------------------------------------------------------------------------------------------------------------------------\n类的初始化\n-----------------------------------------------------------------------------------------------------------------------------------------------------------------------*/\n$(document).ready(function(){\n    new articlePublishController ;\n}) ;"]}